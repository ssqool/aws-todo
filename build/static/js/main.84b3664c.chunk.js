(this["webpackJsonptodo-aws"]=this["webpackJsonptodo-aws"]||[]).push([[0],{17:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var o=n(1),c=n.n(o),a=n(11),s=n.n(a),r=(n(17),n(8)),u=n(2),i=n.n(u),d=n(6),m=n(5),l=n(12),f=n(0),j=function(e){var t=Object(o.useState)(""),n=Object(m.a)(t,2),c=n[0],a=n[1],s=Object(o.useRef)(null);Object(o.useEffect)((function(){s.current.focus()}));return Object(f.jsxs)("form",{className:"todo-form",onSubmit:function(t){t.preventDefault(),e.onSubmit({id:Object(l.v4)(),name:c,statement:!1}),a("")},children:[Object(f.jsx)("input",{type:"text",placeholder:"Add a todo",value:c,name:"name",className:"todo-input",onChange:function(e){a(e.target.value)},ref:s}),Object(f.jsx)("button",{className:"todo-button",children:"Add todo"})]})},p=n(24),h=function(e){var t=e.todos,n=e.completeTodo,o=e.removeTodo;return console.log(t),t.map((function(e,t){return Object(f.jsxs)("div",{className:e.isComplete?"todo-row complete":"todo-row",children:[t+1,Object(f.jsx)("div",{onClick:function(){return n(e.id)},children:e.name},e.id),Object(f.jsx)("div",{className:"icons",children:Object(f.jsx)(p.a,{onClick:function(){return o(e.id)},className:"delete-icon"})})]},t)}))},b=function(){var e=Object(o.useState)([]),t=Object(m.a)(e,2),n=t[0],c=t[1];console.log(n);var a=function(){var e=Object(d.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://s5gg3ejdsd.execute-api.eu-west-1.amazonaws.com/dev/todos",e.next=3,fetch("https://s5gg3ejdsd.execute-api.eu-west-1.amazonaws.com/dev/todos");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent;try{c(n.Items)}catch(o){console.log(o),alert("character with given name not found")}case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){a()}),[]);return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"What's the Plan Today"}),Object(f.jsx)(j,{onSubmit:function(e){e.name&&!/^\s*$/.test(e.name)&&function(){var t=Object(d.a)(i.a.mark((function t(o,a,s,u){var d,m,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://s5gg3ejdsd.execute-api.eu-west-1.amazonaws.com/dev/todos",(d={method:o,body:{id:a,name:s,statement:u}}).body=JSON.stringify(d.body),t.next=5,fetch("https://s5gg3ejdsd.execute-api.eu-west-1.amazonaws.com/dev/todos",d);case 5:return m=t.sent,t.next=8,m.json();case 8:t.sent;try{l=[e].concat(Object(r.a)(n)),c(l)}catch(i){console.log(i),alert("character with given name not found")}case 10:case"end":return t.stop()}}),t)})));return function(e,n,o,c){return t.apply(this,arguments)}}()("POST",e.id,e.name,e.statement)}}),Object(f.jsx)(h,{todos:n,completeTodo:function(e){var t=n.map((function(t){return t.id===e&&(t.isComplete=!t.isComplete),t}));c(t)},removeTodo:function(e){var t=Object(r.a)(n).filter((function(t){return t.id!==e}));console.log(e),function(){var e=Object(d.a)(i.a.mark((function e(n,o){var a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://s5gg3ejdsd.execute-api.eu-west-1.amazonaws.com/dev/todos",(a={method:n,body:{id:o}}).body=JSON.stringify(a.body),e.next=5,fetch("https://s5gg3ejdsd.execute-api.eu-west-1.amazonaws.com/dev/todos",a);case 5:return s=e.sent,e.next=8,s.json();case 8:e.sent;try{c(t)}catch(r){console.log(r),alert("character with given name not found")}case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()("DELETE",e)}})]})};var v=function(){return Object(f.jsx)("div",{className:"todo-app",children:Object(f.jsx)(b,{})})};s.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(v,{})}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.84b3664c.chunk.js.map